//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: com/igormaznitsa/prol/containers/KnowledgeBaseInsideClauseList.java
//
//  Created by katsura on 14/04/13.
//

#include "IOSClass.h"
#include "com/igormaznitsa/prol/containers/InsideClauseListItem.h"
#include "com/igormaznitsa/prol/containers/KnowledgeBaseInsideClauseList.h"
#include "com/igormaznitsa/prol/data/Term.h"
#include "com/igormaznitsa/prol/data/TermStruct.h"
#include "java/io/PrintWriter.h"
#include "java/lang/NullPointerException.h"

@implementation ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList

- (id)init {
  if (self = [super init]) {
    first_ = nil;
    last_ = nil;
  }
  return self;
}

- (BOOL)assertaWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)struct_ {
  first_ = [[ComIgormaznitsaProlContainersInsideClauseListItem alloc] initWithComIgormaznitsaProlContainersInsideClauseListItem:nil withComIgormaznitsaProlContainersInsideClauseListItem:first_ withComIgormaznitsaProlDataTermStruct:struct_];
  if (last_ == nil) {
    last_ = first_;
  }
  return YES;
}

- (BOOL)assertzWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)struct_ {
  last_ = [[ComIgormaznitsaProlContainersInsideClauseListItem alloc] initWithComIgormaznitsaProlContainersInsideClauseListItem:last_ withComIgormaznitsaProlContainersInsideClauseListItem:nil withComIgormaznitsaProlDataTermStruct:struct_];
  if (first_ == nil) {
    first_ = last_;
  }
  return YES;
}

- (BOOL)retractaWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)template_ {
  ComIgormaznitsaProlContainersInsideClauseListItem *container = nil;
  while ((container = [self findDirectWithComIgormaznitsaProlDataTermStruct:template_ withComIgormaznitsaProlContainersInsideClauseListItem:container]) != nil) {
    [((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(container)) remove];
    if (first_ == container) {
      first_ = [container getNext];
    }
    return YES;
  }
  return NO;
}

- (BOOL)retractzWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)template_ {
  ComIgormaznitsaProlContainersInsideClauseListItem *container = nil;
  while ((container = [self findBackWithComIgormaznitsaProlDataTermStruct:template_ withComIgormaznitsaProlContainersInsideClauseListItem:container]) != nil) {
    [((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(container)) remove];
    if (last_ == container) {
      last_ = [container getPrevious];
    }
    return YES;
  }
  return NO;
}

- (int)retractallWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)template_ {
  ComIgormaznitsaProlContainersInsideClauseListItem *container = nil;
  int result = 0;
  while ((container = [self findDirectWithComIgormaznitsaProlDataTermStruct:template_ withComIgormaznitsaProlContainersInsideClauseListItem:container]) != nil) {
    [((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(container)) remove];
    if (first_ == container) {
      first_ = [container getNext];
    }
    if (last_ == container) {
      last_ = [container getPrevious];
    }
    result++;
  }
  return result;
}

- (int)size {
  int size = 0;
  if (first_ == nil) {
    return 0;
  }
  ComIgormaznitsaProlContainersInsideClauseListItem *curContainer = first_;
  while (curContainer != nil) {
    curContainer = [((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(curContainer)) getNext];
    size++;
  }
  return size;
}

- (ComIgormaznitsaProlContainersInsideClauseListItem *)findDirectWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)template_
                                                 withComIgormaznitsaProlContainersInsideClauseListItem:(ComIgormaznitsaProlContainersInsideClauseListItem *)sinceContainer {
  if (sinceContainer == nil) {
    sinceContainer = first_;
  }
  else {
    sinceContainer = [sinceContainer getNext];
  }
  ComIgormaznitsaProlContainersInsideClauseListItem *result = nil;
  while (sinceContainer != nil) {
    ComIgormaznitsaProlDataTerm *keyTerm = [((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(sinceContainer)) getKeyTerm];
    if ([((ComIgormaznitsaProlDataTerm *) nil_chk(keyTerm)) equWithoutSetWithComIgormaznitsaProlDataTerm:template_]) {
      if ([((ComIgormaznitsaProlDataTerm *) nil_chk([((ComIgormaznitsaProlDataTermStruct *) nil_chk(template_)) makeClone])) EquWithComIgormaznitsaProlDataTerm:[keyTerm makeClone]]) {
        result = sinceContainer;
        break;
      }
    }
    sinceContainer = [sinceContainer getNext];
  }
  return result;
}

- (ComIgormaznitsaProlContainersInsideClauseListItem *)findBackWithComIgormaznitsaProlDataTermStruct:(ComIgormaznitsaProlDataTermStruct *)template_
                                               withComIgormaznitsaProlContainersInsideClauseListItem:(ComIgormaznitsaProlContainersInsideClauseListItem *)sinceContainer {
  if (sinceContainer == nil) {
    sinceContainer = last_;
  }
  else {
    sinceContainer = [sinceContainer getPrevious];
  }
  ComIgormaznitsaProlContainersInsideClauseListItem *result = nil;
  while (sinceContainer != nil) {
    ComIgormaznitsaProlDataTerm *keyterm = [((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(sinceContainer)) getKeyTerm];
    if ([((ComIgormaznitsaProlDataTerm *) nil_chk(keyterm)) equWithoutSetWithComIgormaznitsaProlDataTerm:template_]) {
      if ([((ComIgormaznitsaProlDataTerm *) nil_chk([keyterm makeClone])) EquWithComIgormaznitsaProlDataTerm:[((ComIgormaznitsaProlDataTermStruct *) nil_chk(template_)) makeClone]]) {
        result = sinceContainer;
        break;
      }
    }
    sinceContainer = [sinceContainer getPrevious];
  }
  return result;
}

- (void)writeWithJavaIoPrintWriter:(JavaIoPrintWriter *)writer {
  if (writer == nil) {
    @throw [[JavaLangNullPointerException alloc] initWithNSString:@"Writer is null"];
  }
  ComIgormaznitsaProlContainersInsideClauseListItem *item = first_;
  while (YES) {
    if (item == nil) {
      break;
    }
    [((JavaIoPrintWriter *) nil_chk(writer)) printWithNSString:[((ComIgormaznitsaProlDataTermStruct *) nil_chk([((ComIgormaznitsaProlContainersInsideClauseListItem *) nil_chk(item)) getClause])) getSourceLikeRepresentation]];
    [writer printlnWithChar:'.'];
    item = [item getNext];
  }
  [((JavaIoPrintWriter *) nil_chk(writer)) println];
}

- (ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList *)makeCopy {
  ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList *copy_ = [[ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList alloc] init];
  ComIgormaznitsaProlContainersInsideClauseListItem *current = first_;
  while (YES) {
    if (current == nil) {
      break;
    }
    else {
      [copy_ assertzWithComIgormaznitsaProlDataTermStruct:[current getClause]];
      current = [current getNext];
    }
  }
  return copy_;
}

- (void)copyAllFieldsTo:(ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList *)other {
  [super copyAllFieldsTo:other];
  other->first_ = first_;
  other->last_ = last_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "init", "KnowledgeBaseInsideClauseList", NULL, 0x0, NULL },
    { "assertaWithComIgormaznitsaProlDataTermStruct:", "asserta", "Z", 0x0, NULL },
    { "assertzWithComIgormaznitsaProlDataTermStruct:", "assertz", "Z", 0x0, NULL },
    { "retractaWithComIgormaznitsaProlDataTermStruct:", "retracta", "Z", 0x0, NULL },
    { "retractzWithComIgormaznitsaProlDataTermStruct:", "retractz", "Z", 0x0, NULL },
    { "retractallWithComIgormaznitsaProlDataTermStruct:", "retractall", "I", 0x0, NULL },
    { "size", NULL, "I", 0x0, NULL },
    { "findDirectWithComIgormaznitsaProlDataTermStruct:withComIgormaznitsaProlContainersInsideClauseListItem:", "findDirect", "Lcom.igormaznitsa.prol.containers.InsideClauseListItem;", 0x0, NULL },
    { "findBackWithComIgormaznitsaProlDataTermStruct:withComIgormaznitsaProlContainersInsideClauseListItem:", "findBack", "Lcom.igormaznitsa.prol.containers.InsideClauseListItem;", 0x0, NULL },
    { "writeWithJavaIoPrintWriter:", "write", "V", 0x0, NULL },
    { "makeCopy", NULL, "Lcom.igormaznitsa.prol.containers.KnowledgeBaseInsideClauseList;", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "first_", NULL, 0x2, "Lcom.igormaznitsa.prol.containers.InsideClauseListItem;" },
    { "last_", NULL, 0x2, "Lcom.igormaznitsa.prol.containers.InsideClauseListItem;" },
  };
  static J2ObjcClassInfo _ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList = { "KnowledgeBaseInsideClauseList", "com.igormaznitsa.prol.containers", NULL, 0x10, 11, methods, 2, fields, 0, NULL};
  return &_ComIgormaznitsaProlContainersKnowledgeBaseInsideClauseList;
}

@end
